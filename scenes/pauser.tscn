[gd_scene load_steps=9 format=2]

[ext_resource path="res://fonts/SEASRN__.ttf" type="DynamicFontData" id=1]
[ext_resource path="res://PNG/Background/1px.png" type="Texture" id=2]
[ext_resource path="res://fonts/Acme-Regular.ttf" type="DynamicFontData" id=3]

[sub_resource type="GDScript" id=1]
resource_name = "pauser"
script/source = "extends CanvasLayer


func _ready():
	pass

func _input(event):
	# and ou && mesma coisa
	if event.is_action_pressed(\"pause\") and !event.is_echo():
		#sempre ir√° setar o contrario do estado atual
		get_tree().set_pause(!get_tree().is_paused())
		
		if get_tree().is_paused() == true:
			# pode ser .show() ou .hide()
			get_node(\"pausado\").set_visible(true)
			get_node(\"menu\").set_visible(true)
			get_node(\"preto_branco\").show()
		else:
			get_node(\"pausado\").set_visible(false)
			get_node(\"menu\").set_visible(false)
			get_node(\"preto_branco\").hide()

func _on_continuar_pressed():
	get_tree().set_pause(false)
	get_node(\"menu\").set_visible(false)
	get_node(\"pausado\").set_visible(false)
	get_node(\"preto_branco\").set_visible(false)

func _on_sair_pressed():
	get_tree().set_pause(false)
	get_tree().change_scene(\"res://scenes/menu.tscn\")


func _on_reiniciar_pressed():
	get_tree().set_pause(false)
	get_node(\"menu\").set_visible(false)
	get_node(\"pausado\").set_visible(false)
	get_node(\"preto_branco\").set_visible(false)
	game.setScoreReset()
	game.setVidaReset()
	get_tree().reload_current_scene()
"

[sub_resource type="DynamicFont" id=2]
size = 100
extra_spacing_space = 2
font_data = ExtResource( 1 )

[sub_resource type="Shader" id=3]
code = "shader_type canvas_item;


void fragment () {
  vec4 pixel = texture(SCREEN_TEXTURE, SCREEN_UV);
 float avg = (pixel.r + pixel.g + pixel.b) /  3.0 ;
 COLOR =  vec4 (avg, avg, avg, 0.3);
}"

[sub_resource type="ShaderMaterial" id=4]
shader = SubResource( 3 )

[sub_resource type="DynamicFont" id=5]
size = 100
font_data = ExtResource( 3 )

[node name="pauser" type="CanvasLayer"]
pause_mode = 2
layer = 10
script = SubResource( 1 )

[node name="pausado" type="Label" parent="."]
visible = false
margin_left = 370.0
margin_top = 50.0
margin_right = 905.0
margin_bottom = 190.0
custom_fonts/font = SubResource( 2 )
custom_colors/font_color = Color( 0.858824, 0.4, 0.219608, 1 )
custom_colors/font_outline_modulate = Color( 0.858824, 0.4, 0.219608, 1 )
custom_colors/font_color_shadow = Color( 1, 0.890196, 0, 1 )
text = "PAUSADO"

[node name="preto_branco" type="TextureRect" parent="."]
visible = false
material = SubResource( 4 )
margin_right = 1291.0
margin_bottom = 722.0
texture = ExtResource( 2 )
expand = true

[node name="menu" type="CenterContainer" parent="."]
pause_mode = 2
visible = false
margin_left = 420.0
margin_top = 250.0
margin_right = 833.0
margin_bottom = 657.0

[node name="VBoxContainer" type="VBoxContainer" parent="menu"]
pause_mode = 2
margin_right = 413.0
margin_bottom = 407.0

[node name="continuar" type="Button" parent="menu/VBoxContainer"]
pause_mode = 2
margin_right = 413.0
margin_bottom = 133.0
custom_fonts/font = SubResource( 5 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 0.321569, 0.0862745, 0.74902, 1 )
custom_colors/font_color_pressed = Color( 0.219608, 0.0313726, 0.556863, 1 )
text = "Continuar"
flat = true

[node name="reiniciar" type="Button" parent="menu/VBoxContainer"]
pause_mode = 2
margin_top = 137.0
margin_right = 413.0
margin_bottom = 270.0
custom_fonts/font = SubResource( 5 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 0.321569, 0.0862745, 0.74902, 1 )
custom_colors/font_color_pressed = Color( 0.219608, 0.0313726, 0.556863, 1 )
text = "Reiniciar"
flat = true

[node name="sair" type="Button" parent="menu/VBoxContainer"]
pause_mode = 2
margin_top = 274.0
margin_right = 413.0
margin_bottom = 407.0
custom_fonts/font = SubResource( 5 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 0.321569, 0.0862745, 0.74902, 1 )
custom_colors/font_color_pressed = Color( 0.219608, 0.0313726, 0.556863, 1 )
text = "Sair"
flat = true
[connection signal="pressed" from="menu/VBoxContainer/continuar" to="." method="_on_continuar_pressed"]
[connection signal="pressed" from="menu/VBoxContainer/reiniciar" to="." method="_on_reiniciar_pressed"]
[connection signal="pressed" from="menu/VBoxContainer/sair" to="." method="_on_sair_pressed"]
